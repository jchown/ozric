@inject OzricConfig Config

<MudDialog>
    <DialogContent>
        <MudGrid Spacing="6">
            <MudItem xs="12">
                <MudTextField Value="@Config.Version" Label="Version" ReadOnly="true" Variant="Variant.Outlined"/>
            </MudItem>
            <MudItem xs="12">
                <MudText Typo="Typo.h6">Configuration</MudText>
                <MudTextField Value="@Config.Port" Label="Port" ReadOnly="true" Variant="Variant.Outlined"/>
                <MudTextField Value="@Config.HubURL" Label="Hub URL" ReadOnly="true" Variant="Variant.Outlined"/>
            </MudItem>
            <MudItem xs="12">
                <MudText Typo="Typo.h6">Status</MudText>
                <MudTextField Value="@GetHubHealth()" Label="Hub Health" ReadOnly="true" Variant="Variant.Outlined"/>
            </MudItem>
        </MudGrid>
    </DialogContent>
 
     <DialogActions>
        <MudButton OnClick="@Close">Close</MudButton>
    </DialogActions>

</MudDialog>

@code {

    [CascadingParameter]
    MudDialogInstance MudDialog { get; set; }
    
    [Parameter]
    public Health Health { get; set; }

    void Close() => MudDialog.Cancel();

    private string GetHubHealth()
    {
        var lastPing = Health.LastHubPing;
        
        if (lastPing == null)
            return "Unconnected";
        
        if (lastPing > DateTime.Now.AddSeconds(-10))
            return "OK";

        return "Stale";
    }
}
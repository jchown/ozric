@inject OzricConfig Config

<MudDialog>
    <DialogContent>
        <MudPaper Elevation="0" Height="50%">
            <MudSpacer />
            <MudText Typo="Typo.h6">Configuration</MudText>
            <MudTextField Value="@Config.Path" Label="Base URL" ReadOnly="true" Variant="Variant.Outlined"/>
            <MudTextField Value="@Config.Port" Label="Port" ReadOnly="true" Variant="Variant.Outlined"/>
            <MudSpacer />
            <MudText Typo="Typo.h6">Status</MudText>
            <MudTextField Value="@GetHubHealth()" Label="Hub Health" ReadOnly="true" Variant="Variant.Outlined"/>
        </MudPaper>
    </DialogContent>
 
     <DialogActions>
        <MudButton OnClick="@Close">Close</MudButton>
    </DialogActions>

</MudDialog>

@code {

    [CascadingParameter]
    MudDialogInstance MudDialog { get; set; }
    
    [Parameter]
    public Health Health { get; set; }

    void Close() => MudDialog.Cancel();

    private string GetHubHealth()
    {
        var lastPing = Health.LastHubPing;
        
        if (lastPing == null)
            return "Unconnected";
        
        if (lastPing.Value.AddSeconds(10) > DateTime.Now)
            return "OK";

        return "Stale";
    }
}